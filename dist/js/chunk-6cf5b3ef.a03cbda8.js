(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cf5b3ef"],{"0883":function(t,s,a){"use strict";var e=a("a1e6"),i=a.n(e);i.a},1571:function(t,s,a){},2369:function(t,s,a){"use strict";var e=a("65b1"),i=a.n(e);i.a},"292c":function(t,s,a){"use strict";var e=a("7d72"),i=a.n(e);i.a},3519:function(t,s,a){},4290:function(t,s,a){"use strict";var e=a("44e7"),i=a.n(e);i.a},"44bf":function(t,s,a){"use strict";var e=a("3519"),i=a.n(e);i.a},"44e7":function(t,s,a){},"564c":function(t,s,a){},"56cd":function(t,s,a){},"657b":function(t,s,a){"use strict";var e=a("cc30"),i=a.n(e);i.a},6587:function(t,s,a){"use strict";var e=a("f73d"),i=a.n(e);i.a},"65b1":function(t,s,a){},"67b1":function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("transition",{attrs:{name:"fade"}},[t.isShow?a("div",{staticClass:"back-top"},[a("i",{staticClass:"fas fa-arrow-up fa-2x"})]):t._e()])},i=[],o={name:"backtop",methods:{},props:{isShow:{default:function(){return!1},type:Boolean}}},n=o,l=(a("657b"),a("2877")),c=Object(l["a"])(n,e,i,!1,null,"e8906482",null);s["a"]=c.exports},"712b":function(t,s,a){"use strict";var e=a("56cd"),i=a.n(e);i.a},"7be8":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"detail"},[a("DetailNavbar",{staticClass:"detailnavbar"},[a("div",{attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[a("i",{staticClass:"fas fa-arrow-left"})]),a("div",{staticClass:"title",attrs:{slot:"middle"},slot:"middle"},t._l(t.titles,(function(s,e){return a("div",{key:e,staticClass:"titleItem",class:{active:e===t.currentIdx},on:{click:function(s){return t.titleItemClick(e)}}},[t._v(" "+t._s(s)+" ")])})),0)]),a("DetailScroll",{ref:"detailScroll",staticClass:"scroll",attrs:{"probe-type":3,"pull-up-load":!0},on:{scroll:t.contentScroll}},[a("DetailCarousel",{ref:"good",staticClass:"carousel",attrs:{banner:t.detailGoodData.topImages}}),a("DetailBaseInfo",{staticClass:"baseInfo",attrs:{good:t.detailGoodData}}),a("DetailShopInfo",{staticClass:"shopInfo",attrs:{shop:t.detailShopData}}),a("DetailImageInfo",{staticClass:"imageInfo",attrs:{image:t.detailImageData}}),a("DetailGoodParamsInfo",{ref:"params",attrs:{"good-params":t.detailGoodParamsData}}),a("DetailCommentsInfo",{ref:"comments",attrs:{comments:t.detailCommentsData}}),a("DetailRecommendInfo",{ref:"recommend",staticClass:"recommend",attrs:{goods:t.detailRecommendData}})],1),a("DetailBottomBar",{on:{addCartSignal:t.addToCart}}),a("DetailBacktop",{attrs:{"is-show":t.backTopBtnShowFlag},nativeOn:{click:function(s){return t.backTopBtnClick(s)}}}),a("DetailToast",{attrs:{"is-show":t.toastShowFlag,message:t.toastShowMsg}})],1)},i=[],o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("carousel",t._l(t.banner,(function(t,s){return a("div",{key:s,class:{"carousel-item active":0===s,"carousel-item":0!==s},attrs:{slot:"carouselitem"},slot:"carouselitem"},[a("a",{attrs:{href:t.link}},[a("img",{staticClass:"d-block w-100",attrs:{src:t,alt:"..."}})])])})),0)},n=[],l=a("f78d"),c={name:"DetailCarousel",components:{carousel:l["a"]},props:{banner:{type:Array,default:function(){return[]}}},methods:{},created:function(){}},r=c,d=a("2877"),u=Object(d["a"])(r,o,n,!1,null,"9e67b500",null),f=u.exports,m=a("1f8a"),p=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==Object.keys(t.good).length?a("div",{staticClass:"base-info"},[a("div",{staticClass:"info-title"},[t._v(t._s(t.good.title))]),a("div",{staticClass:"info-price"},[a("span",{staticClass:"new-price"},[t._v(t._s(t.good.newPrice))]),a("span",{staticClass:"old-price"},[t._v(t._s(t.good.oldPrice))]),t.good.discount?a("span",{staticClass:"discount"},[t._v(t._s(t.good.discount))]):t._e()]),a("div",{staticClass:"info-other"},[a("span",[t._v(t._s(t.good.columns[0]))]),a("span",[t._v(t._s(t.good.columns[1]))]),a("span",[t._v(t._s(t.good.services[t.good.services.length-1].name))])]),a("div",{staticClass:"info-service"},t._l(t.good.services.slice(0,t.good.services.length-1),(function(s,e){return a("span",{key:e,staticClass:"info-service-item"},[a("img",{attrs:{src:s.icon,alt:""}}),a("span",[t._v(t._s(s.name))])])})),0)]):t._e()},h=[],v={name:"DetailBaseInfo",props:{good:{type:Object,default:function(){return{}}}},created:function(){}},g=v,_=(a("e596"),Object(d["a"])(g,p,h,!1,null,"40709b39",null)),C=_.exports,b=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"shop-info"},[a("div",{staticClass:"shop-top"},[a("img",{attrs:{src:t.shop.logo,alt:""}}),a("span",{staticClass:"title"},[t._v(t._s(t.shop.name))])]),a("div",{staticClass:"shop-middle"},[a("div",{staticClass:"shop-middle-item shop-middle-left"},[a("div",{staticClass:"info-sells"},[a("div",{staticClass:"sells-count"},[t._v(" "+t._s(t._f("sellCountFilter")(t.shop.sells))+" ")]),a("div",{staticClass:"sells-text"},[t._v("总销量")])]),a("div",{staticClass:"info-goods"},[a("div",{staticClass:"goods-count"},[t._v(" "+t._s(t.shop.goodsCount)+" ")]),a("div",{staticClass:"goods-text"},[t._v("全部宝贝")])])]),a("div",{staticClass:"shop-middle-item shop-middle-right"},[a("table",t._l(t.shop.score,(function(s,e){return a("tr",{key:e},[a("td",[t._v(t._s(s.name))]),a("td",{staticClass:"score",class:{"score-better":s.isBetter}},[t._v(t._s(s.score))]),a("td",{staticClass:"better",class:{"better-more":s.isBetter}},[a("span",[t._v(t._s(s.isBetter?"高":"低"))])])])})),0)])]),t._m(0)])},I=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"shop-bottom"},[a("div",{staticClass:"enter-shop"},[t._v("进店逛逛")])])}],D=(a("b680"),{name:"DetailShopInfo",props:{shop:{type:Object,default:function(){return{}}}},filters:{sellCountFilter:function(t){return t<1e4?t:(t/1e4).toFixed(1)+"万"}}}),k=D,w=(a("712b"),Object(d["a"])(k,b,I,!1,null,"d90b7ece",null)),y=w.exports,S=a("9fb0"),x=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"detialimage"},[0!==Object.keys(t.image).length?a("div",{staticClass:"goods-info"},[a("div",{staticClass:"info-desc clear-fix"},[a("div",{staticClass:"start"}),a("div",{staticClass:"desc"},[t._v(t._s(t.image.desc))]),a("div",{staticClass:"end"})]),a("div",{staticClass:"info-key"},[t._v(t._s(t.image.detailImage[0].key))]),a("div",{staticClass:"info-list"},t._l(t.image.detailImage[0].list,(function(t,s){return a("img",{key:s,attrs:{src:t}})})),0)]):t._e()])},$=[],T={name:"DetailImageInfo",props:{image:{type:Object,default:function(){return{}}}},updated:function(){}},E=T,O=(a("bbaa"),Object(d["a"])(E,x,$,!1,null,"1ba69416",null)),j=O.exports,P=a("67b1"),B=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"detailGoodParams"},[0!==Object.keys(t.goodParams).length?a("div",{staticClass:"param-info"},[t._l(t.goodParams.rule.tables,(function(s,e){return a("table",{key:e,staticClass:"info-size"},t._l(s,(function(s,e){return a("tr",{key:e},t._l(s,(function(s,e){return a("td",{key:e},[t._v(t._s(s))])})),0)})),0)})),a("table",{staticClass:"info-param"},t._l(t.goodParams.info.set,(function(s,e){return a("tr",{key:e},[a("td",{staticClass:"info-param-key"},[t._v(t._s(s.key))]),a("td",{staticClass:"param-value"},[t._v(t._s(s.value))])])})),0),t.goodParams.info.images?a("div",{staticClass:"info-img"},[a("img",{attrs:{src:t.goodParams.images[0],alt:""}})]):t._e()],2):t._e()])},G=[],F={name:"DetailGoodParamsInfo",props:{goodParams:{type:Object,default:function(){return{}}}}},Y=F,R=(a("292c"),Object(d["a"])(Y,B,G,!1,null,"cb64eb1e",null)),M=R.exports,N=function(){var t=this,s=t.$createElement,a=t._self._c||s;return 0!==Object.keys(t.comments).length?a("div",{staticClass:"comment-info"},[t._m(0),a("div",{staticClass:"info-user"},[a("img",{attrs:{src:t.comments.user.avatar,alt:""}}),a("span",[t._v(t._s(t.comments.user.name))])]),a("div",{staticClass:"info-detail"},[a("p",[t._v(t._s(t.comments.content))]),a("div",{staticClass:"info-other"},[a("span",{staticClass:"date"},[t._v(t._s(t._f("showDate")(t.comments.created)))]),a("span",[t._v(t._s(t.comments.style))])]),a("div",{staticClass:"info-imgs"},t._l(t.comments.images,(function(t,s){return a("img",{key:s,attrs:{src:t,alt:""}})})),0)])]):t._e()},A=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"info-header"},[a("div",{staticClass:"header-title"},[t._v("用户评价")]),a("div",{staticClass:"header-more"},[t._v(" 更多 "),a("i",{staticClass:"arrow-right"})])])}],J={name:"DetailCommentsInfo",props:{comments:{type:Object,default:function(){return{}}}},filters:{showDate:function(t){var s=new Date(1e3*t),a=String(s.getMonth()+1),e=String(s.getFullYear()),i=String(s.getDay()),o=String(s.getHours()),n=String(s.getMinutes()),l=String("00"+n).substr(n.length),c=String(s.getSeconds());return e+"-"+a+"-"+i+" "+o+":"+l+":"+c}}},V=J,z=(a("92fc"),Object(d["a"])(V,N,A,!1,null,"589d7491",null)),H=z.exports,L=a("cc02"),q=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bottombar"},[t._m(0),a("div",{staticClass:"bar-item bar-right"},[a("div",{staticClass:"cart",on:{click:t.addToCart}},[t._v("加入购物车")]),a("div",{staticClass:"buy"},[t._v("购买")])])])},K=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"bar-item bar-left"},[a("div",{staticClass:"item"},[a("i",{staticClass:"fas fa-user fa-lg icon"}),a("span",{staticClass:"text"},[t._v("客服")])]),a("div",{staticClass:"item"},[a("i",{staticClass:"fas fa-store fa-lg icon"}),a("span",{staticClass:"text"},[t._v("店铺")])]),a("div",{staticClass:"item"},[a("i",{staticClass:"fas fa-star fa-lg icon"}),a("span",{staticClass:"text"},[t._v("收藏")])])])}],Q={name:"DetailBottomBar",methods:{addToCart:function(){this.$emit("addCartSignal")}}},U=Q,W=(a("2369"),Object(d["a"])(U,q,K,!1,null,"98cebe52",null)),X=W.exports,Z=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("transition",{attrs:{name:"fade"}},[t.isShow?a("div",{attrs:{id:"toast"}},[a("div",{staticClass:"alert alert-info",attrs:{role:"alert"}},[t._v(" "+t._s(t.message)+" ")])]):t._e()])},tt=[],st={name:"toast",props:{message:{type:String,default:function(){return""}},isShow:{type:Boolean,default:function(){return!1}}},methods:{},mounted:function(){}},at=st,et=(a("6587"),Object(d["a"])(at,Z,tt,!1,null,"63242758",null)),it=et.exports;a("b0c0");function ot(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}var nt=a("1bab");function lt(t){return Object(nt["a"])({url:"/detail",params:{iid:t}})}function ct(){return Object(nt["a"])({url:"/recommend"})}var rt=function t(s,a,e){ot(this,t),this.title=s.title,this.desc=s.desc,this.newPrice=s.price,this.oldPrice=s.oldPrice,this.discount=s.discountDesc,this.columns=a,this.services=e,this.realPrice=s.lowNowPrice,this.topImages=s.topImages},dt=function t(s){ot(this,t),this.logo=s.shopLogo,this.name=s.name,this.fans=s.cFans,this.sells=s.cSells,this.score=s.score,this.goodsCount=s.cGoods},ut={name:"detail",data:function(){return{iid:0,detailGoodData:{},detailGoodParamsData:{},detailShopData:{},detailImageData:{},detailCommentsData:{},detailRecommendData:[],backTopBtnShowFlag:!1,titles:["商品","参数","评论","推荐"],currentIdx:0,titlesTopY:[0,0,0,0],toastShowFlag:!1,toastShowMsg:""}},methods:{addToCart:function(){var t=this,s={};s.image=this.detailGoodData.topImages[0],s.title=this.detailGoodData.title,s.desc=this.detailGoodData.desc,s.price=this.detailGoodData.realPrice,s.iid=this.iid,this.$store.dispatch("addToCart",s).then((function(s){t.toastShowFlag=!0,t.toastShowMsg=s,setTimeout((function(){t.toastShowFlag=!1}),500)}))},titleItemClick:function(t){this.currentIdx=t,this.$refs.detailScroll.scroll.scrollTo(0,-this.titlesTopY[t],300)},backClick:function(){this.$router.back()},backTopBtnClick:function(){this.$refs.detailScroll.scroll.scrollTo(0,0,500)},contentScroll:function(t){t.y<-500?this.backTopBtnShowFlag=!0:this.backTopBtnShowFlag=!1,-t.y<this.titlesTopY[1]?this.currentIdx=0:-t.y<this.titlesTopY[2]?this.currentIdx=1:-t.y<this.titlesTopY[3]?this.currentIdx=2:this.currentIdx=3},setTitleTopY:function(){this.titlesTopY[0]=this.$refs.good.$el.offsetTop,this.titlesTopY[1]=this.$refs.params.$el.offsetTop,this.titlesTopY[2]=this.$refs.comments.$el.offsetTop,this.titlesTopY[3]=this.$refs.recommend.$el.offsetTop}},created:function(){var t=this;this.iid=this.$route.params.iid,lt(this.iid).then((function(s){t.detailGoodData=new rt(s.result.itemInfo,s.result.columns,s.result.shopInfo.services),t.detailShopData=new dt(s.result.shopInfo),t.detailImageData=s.result.detailInfo,t.detailGoodParamsData=s.result.itemParams,0!==s.result.rate.cRate&&(t.detailCommentsData=s.result.rate.list[0])})),ct().then((function(s){t.detailRecommendData=s.data.list}))},updated:function(){this.$refs.detailScroll.scroll.refresh(),this.setTitleTopY()},components:{DetailNavbar:m["a"],DetailCarousel:f,DetailBaseInfo:C,DetailShopInfo:y,DetailScroll:S["a"],DetailImageInfo:j,DetailBacktop:P["a"],DetailGoodParamsInfo:M,DetailCommentsInfo:H,DetailRecommendInfo:L["a"],DetailBottomBar:X,DetailToast:it}},ft=ut,mt=(a("ae63"),Object(d["a"])(ft,e,i,!1,null,"8ca292c6",null));s["default"]=mt.exports},"7d72":function(t,s,a){},"8ace":function(t,s,a){},"92fc":function(t,s,a){"use strict";var e=a("de30"),i=a.n(e);i.a},a1e6:function(t,s,a){},ae63:function(t,s,a){"use strict";var e=a("564c"),i=a.n(e);i.a},b0c0:function(t,s,a){var e=a("83ab"),i=a("9bf2").f,o=Function.prototype,n=o.toString,l=/^\s*function ([^ (]*)/,c="name";e&&!(c in o)&&i(o,c,{configurable:!0,get:function(){try{return n.call(this).match(l)[1]}catch(t){return""}}})},bbaa:function(t,s,a){"use strict";var e=a("1571"),i=a.n(e);i.a},cc02:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"goodsview"},t._l(t.goods,(function(t,s){return a("GoodsViewItem",{key:s,attrs:{gooditem:t}})})),1)},i=[],o=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"goodviewitem",on:{click:t.goodItemClick}},[a("img",{attrs:{src:t.showImage,alt:""}}),a("p",[t._v(t._s(t.gooditem.title))]),a("span",{staticClass:"goodItemPrice"},[t._v("价格："+t._s(t.gooditem.price))]),a("span",{staticClass:"goodItemCollect"},[a("i",{staticClass:"fas fa-heart",staticStyle:{color:"#f86666"}}),t._v(" "+t._s(t.gooditem.cfav))])])},n=[],l={name:"goodsviewitem",props:{gooditem:{type:Object,default:function(){return{}}}},computed:{showImage:function(){return this.gooditem.image||this.gooditem.show.img}},methods:{goodItemClick:function(){this.gooditem.iid?this.$router.push("/detail/"+this.gooditem.iid):console.log("404 not found")}}},c=l,r=(a("4290"),a("2877")),d=Object(r["a"])(c,o,n,!1,null,"56cc0cb6",null),u=d.exports,f={name:"goodsviews",props:{goods:{type:Array,default:function(){return[]}}},components:{GoodsViewItem:u}},m=f,p=(a("44bf"),Object(r["a"])(m,e,i,!1,null,"ce2fc1f4",null));s["a"]=p.exports},cc30:function(t,s,a){},de30:function(t,s,a){},e596:function(t,s,a){"use strict";var e=a("8ace"),i=a.n(e);i.a},f73d:function(t,s,a){},f78d:function(t,s,a){"use strict";var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"carousel slide",attrs:{id:"carouselExampleIndicators","data-ride":"carousel"}},[t._m(0),a("div",{staticClass:"carousel-inner"},[t._t("carouselitem")],2),t._m(1),t._m(2)])},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ol",{staticClass:"carousel-indicators"},[a("li",{staticClass:"active",attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"0"}}),a("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"1"}}),a("li",{attrs:{"data-target":"#carouselExampleIndicators","data-slide-to":"2"}})])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"carousel-control-prev",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"prev"}},[a("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Previous")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("a",{staticClass:"carousel-control-next",attrs:{href:"#carouselExampleIndicators",role:"button","data-slide":"next"}},[a("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),a("span",{staticClass:"sr-only"},[t._v("Next")])])}],o={name:"carousel"},n=o,l=(a("0883"),a("2877")),c=Object(l["a"])(n,e,i,!1,null,"b02bbbb6",null);s["a"]=c.exports}}]);
//# sourceMappingURL=chunk-6cf5b3ef.a03cbda8.js.map