(function(t){function e(e){for(var a,r,i=e[0],u=e[1],s=e[2],l=0,f=[];l<i.length;l++)r=i[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(t[a]=u[a]);h&&h(e);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],a=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(a=!1)}a&&(c.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},r={app:0},o={app:0},c=[];function i(t){return u.p+"js/"+({}[t]||t)+"."+{"chunk-2d21060b":"ac683297","chunk-32f58b04":"bfe497e9","chunk-0fa543a4":"a5ac0d2c","chunk-5ad393eb":"92e12262","chunk-56f37ae2":"98952ac9","chunk-6cf5b3ef":"a03cbda8","chunk-e5556e1a":"497838cd"}[t]+".js"}function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(t){var e=[],n={"chunk-32f58b04":1,"chunk-0fa543a4":1,"chunk-56f37ae2":1,"chunk-6cf5b3ef":1,"chunk-e5556e1a":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2d21060b":"31d6cfe0","chunk-32f58b04":"3a24f48e","chunk-0fa543a4":"52d752af","chunk-5ad393eb":"31d6cfe0","chunk-56f37ae2":"a7805bc4","chunk-6cf5b3ef":"a951c95b","chunk-e5556e1a":"e61ceb60"}[t]+".css",o=u.p+a,c=document.getElementsByTagName("link"),i=0;i<c.length;i++){var s=c[i],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===o))return e()}var f=document.getElementsByTagName("style");for(i=0;i<f.length;i++){s=f[i],l=s.getAttribute("data-href");if(l===a||l===o)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||o,c=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete r[t],h.parentNode.removeChild(h),n(c)},h.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(h)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var c=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=c);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,u.nc&&l.setAttribute("nonce",u.nc),l.src=i(t);var f=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(h);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",f.name="ChunkLoadError",f.type=a,f.request=r,n[1](f)}o[t]=void 0}};var h=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/",u.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var f=0;f<s.length;f++)e(s[f]);var h=l;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("85ec"),r=n.n(a);r.a},4702:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",{attrs:{exclude:"detail,cart"}},[n("router-view")],1),n("tab-bar",{attrs:{id:"tabbar"}},[n("tab-bar-item",{attrs:{path:"/home"}},[n("i",{staticClass:"fas fa-home fa-lg",attrs:{slot:"tabbar-item-content-icon"},slot:"tabbar-item-content-icon"}),n("div",{attrs:{slot:"tabbar-item-content-text"},slot:"tabbar-item-content-text"},[t._v("首页")])]),n("tab-bar-item",{attrs:{path:"/category"}},[n("i",{staticClass:"fas fa-bars fa-lg",attrs:{slot:"tabbar-item-content-icon"},slot:"tabbar-item-content-icon"}),n("div",{attrs:{slot:"tabbar-item-content-text"},slot:"tabbar-item-content-text"},[t._v("分类")])]),n("tab-bar-item",{attrs:{path:"/shoppingcart"}},[n("i",{staticClass:"fas fa-shopping-cart fa-lg",attrs:{slot:"tabbar-item-content-icon"},slot:"tabbar-item-content-icon"}),n("div",{attrs:{slot:"tabbar-item-content-text"},slot:"tabbar-item-content-text"},[t._v("购物车")])]),n("tab-bar-item",{attrs:{path:"/user"}},[n("i",{staticClass:"fas fa-user fa-lg",attrs:{slot:"tabbar-item-content-icon"},slot:"tabbar-item-content-icon"}),n("div",{attrs:{slot:"tabbar-item-content-text"},slot:"tabbar-item-content-text"},[t._v("我的")])])],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"tabbar"}},[t._t("default")],2)},i=[],u={name:"tabbar.vue"},s=u,l=(n("8876"),n("2877")),f=Object(l["a"])(s,c,i,!1,null,"364b9cec",null),h=f.exports,d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar-item",class:{active:t.isActive},on:{click:t.tabbarItemClick}},[n("div",{staticClass:"tabbar-item-content"},[t._t("tabbar-item-content-icon"),t._t("tabbar-item-content-text")],2)])},b=[],m={name:"tabbaritems",props:{path:String},computed:{isActive:function(){return this.$route.path===this.path}},data:function(){return{}},methods:{tabbarItemClick:function(){this.$route.path!==this.path&&this.$router.push(this.path)}}},p=m,v=(n("d71d"),Object(l["a"])(p,d,b,!1,null,"4c2d9dd0",null)),k=v.exports,C={name:"App",components:{TabBar:h,TabBarItem:k}},g=C,O=(n("034f"),Object(l["a"])(g,r,o,!1,null,null,null)),y=O.exports,L=(n("d3b7"),n("8c4f")),w=function(){return Promise.all([n.e("chunk-32f58b04"),n.e("chunk-5ad393eb"),n.e("chunk-e5556e1a")]).then(n.bind(null,"77b8"))},x=function(){return Promise.all([n.e("chunk-32f58b04"),n.e("chunk-5ad393eb"),n.e("chunk-56f37ae2")]).then(n.bind(null,"f4ba"))},S=function(){return Promise.all([n.e("chunk-32f58b04"),n.e("chunk-0fa543a4")]).then(n.bind(null,"9522"))},P=function(){return n.e("chunk-2d21060b").then(n.bind(null,"b843"))},_=function(){return Promise.all([n.e("chunk-32f58b04"),n.e("chunk-5ad393eb"),n.e("chunk-6cf5b3ef")]).then(n.bind(null,"7be8"))};a["a"].use(L["a"]);var T=[{path:"",redirect:"/home"},{path:"/home",component:w},{path:"/detail/:iid",component:_},{path:"/category",component:x},{path:"/shoppingcart",component:S},{path:"/user",component:P}],R=new L["a"]({routes:T,mode:"history"}),j=R,E=(n("7db0"),n("c740"),n("a434"),n("a9e3"),n("b680"),n("2f62"));a["a"].use(E["a"]);var A=new E["a"].Store({state:{cartList:[],cartCheckOutList:[],totalPrice:0,totalCount:0,totalPriceString:"0",totalCountString:"0"},mutations:{addCounter:function(t,e){e.count+=1},minusCounter:function(t,e){e.count-=1},addToCart:function(t,e){t.cartList.push(e)},totalResultShow:function(t){t.totalPriceString=t.totalPrice.toFixed(2),t.totalCountString=t.totalCount.toFixed(0)}},getters:{allCheckFlag:function(t){return t.cartList.length===t.cartCheckOutList.length},itemSelectFlag:function(t){return function(e){var n=t.cartCheckOutList.find((function(t){return t.iid===e.iid}));return!!n}}},actions:{addToCart:function(t,e){return new Promise((function(n){var a=t.state.cartList.find((function(t){return t.iid===e.iid}));a?(t.commit("addCounter",a),n("商品数目+1")):(e.count=1,t.commit("addToCart",e),n("已添加到购物车"))}))},addToCheckOut:function(t,e){t.state.cartCheckOutList.push(e),t.dispatch("totalResultCaculate"),t.commit("totalResultShow")},removeToCheckOut:function(t,e){var n=t.state.cartCheckOutList.findIndex((function(t){return t===e}));t.state.cartCheckOutList.splice(n,1),t.dispatch("totalResultCaculate"),t.commit("totalResultShow")},totalResultCaculate:function(t){t.state.totalPrice=0,t.state.totalCount=0;for(var e=0;e<t.state.cartCheckOutList.length;e++)t.state.totalPrice+=Number(t.state.cartCheckOutList[e].price)*Number(t.state.cartCheckOutList[e].count),t.state.totalCount+=Number(t.state.cartCheckOutList[e].count)},cartItemCountPlus:function(t,e){var n=t.state.cartList.find((function(t){return t.iid===e.iid}));if(n){t.commit("addCounter",n),t.dispatch("totalResultCaculate");var a=t.state.cartCheckOutList.find((function(t){return t.iid===e.iid}));a&&t.commit("totalResultShow")}else console.log("error")},cartItemCountMinus:function(t,e){var n=t.state.cartList.find((function(t){return t.iid===e.iid}));if(n&&n.count>1){t.commit("minusCounter",n),t.dispatch("totalResultCaculate");var a=t.state.cartCheckOutList.find((function(t){return t.iid===e.iid}));a&&t.commit("totalResultShow")}},allAddToCheckOut:function(t){t.state.cartCheckOutList.length=0;for(var e=0;e<t.state.cartList.length;e++)t.state.cartCheckOutList.push(t.state.cartList[e]);t.dispatch("totalResultCaculate"),t.commit("totalResultShow")},allRemoveToCheckOut:function(t){t.state.cartCheckOutList.splice(0,t.state.cartCheckOutList.length),t.dispatch("totalResultCaculate"),t.commit("totalResultShow")}}}),N=A;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(y)},router:j,store:N}).$mount("#app")},"85ec":function(t,e,n){},8876:function(t,e,n){"use strict";var a=n("e9b8"),r=n.n(a);r.a},d71d:function(t,e,n){"use strict";var a=n("4702"),r=n.n(a);r.a},e9b8:function(t,e,n){}});
//# sourceMappingURL=app.ccdfffa3.js.map